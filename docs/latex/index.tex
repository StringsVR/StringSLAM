\chapter{Overview }
\hypertarget{index}{}\label{index}\index{Overview@{Overview}}
\label{index_md_examples_2docs_2index}%
\Hypertarget{index_md_examples_2docs_2index}%
\hypertarget{index_autotoc_md1}{}\doxysection{\texorpdfstring{Introduction}{Introduction}}\label{index_autotoc_md1}
\doxylink{namespaceStringSLAM}{String\+SLAM} is a lightweight and efficient SLAM (Simultaneous Localization and Mapping) library designed for the lower end hardware. The 2 main design philosphicies for this library are
\begin{DoxyItemize}
\item Low Power
\item Customizable
\end{DoxyItemize}

It can provide fast feature tracking, frame matching, map generation for Robotics and AR/\+VR applications. ~\newline
\doxylink{namespaceStringSLAM}{String\+SLAM} is easy to integrate and works with Open\+CV.\hypertarget{index_autotoc_md2}{}\doxysubsection{\texorpdfstring{Why are there weird wrappers of Open\+CV classes?}{Why are there weird wrappers of Open\+CV classes?}}\label{index_autotoc_md2}
Ah yes. Well you see because calling Orb or a few other things while another library is using Open\+CV seems to freeze your application. I\textquotesingle{}m frankly not sure if I suck, or the parallelization for this is just fried. Who knows ðŸ¤·, anywho, thats why you see dumb wrappers for Open\+CV classes.\hypertarget{index_autotoc_md3}{}\doxysection{\texorpdfstring{Build}{Build}}\label{index_autotoc_md3}
{\bfseries{Clone the repository and build with CMake\+:}}


\begin{DoxyCode}{0}
\DoxyCodeLine{git\ clone\ https://github.com/StringsVR/StringSLAM.git}
\DoxyCodeLine{cd\ StringSLAM}
\DoxyCodeLine{mkdir\ build\ \&\&\ cd\ build}
\DoxyCodeLine{cmake\ ..}

\end{DoxyCode}


{\bfseries{Generating documentation\+:}}


\begin{DoxyCode}{0}
\DoxyCodeLine{cmake\ -\/-\/build\ build\ -\/-\/target\ docs}

\end{DoxyCode}


{\bfseries{Dependencies\+:}} 
\begin{DoxyCode}{0}
\DoxyCodeLine{-\/\ PkgConfig}
\DoxyCodeLine{-\/\ OpenCV}
\DoxyCodeLine{-\/\ Eigen}
\DoxyCodeLine{-\/\ DOxygen\ (If\ you\ want\ documentation)}

\end{DoxyCode}
\hypertarget{index_autotoc_md4}{}\doxysection{\texorpdfstring{Quickstart}{Quickstart}}\label{index_autotoc_md4}
{\bfseries{Making a simple monocular matching system\+:}}


\begin{DoxyCode}{0}
\DoxyCodeLine{int\ main()\ \{}
\DoxyCodeLine{\ \ \ \ try\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ std::shared\_ptr<Accelerator>\ accelerator\ =\ Accelerator::create();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ //\ If\ GPU\ is\ optional,\ skip\ creating\ it\ for\ now.}
\DoxyCodeLine{\ \ \ \ \ \ \ \ //\ accelerator-\/>createGPU(true,\ 10);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ std::cout\ <<\ "{}[INFO]\ Accelerator\ created\ successfully\(\backslash\)n"{};}
\DoxyCodeLine{\ \ \ \ \}\ catch\ (const\ std::exception\ \&e)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ std::cerr\ <<\ "{}[WARN]\ Accelerator\ init\ threw:\ "{}\ <<\ e.what()\ <<\ "{}\(\backslash\)n"{};}
\DoxyCodeLine{\ \ \ \ \}\ catch\ (...)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ std::cerr\ <<\ "{}[WARN]\ Accelerator\ init\ threw\ unknown\(\backslash\)n"{};}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ //\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}
\DoxyCodeLine{\ \ \ \ //\ 1.\ Configure\ the\ camera\ }
\DoxyCodeLine{\ \ \ \ //\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}
\DoxyCodeLine{\ \ \ \ CameraModel\ cm(}
\DoxyCodeLine{\ \ \ \ \ \ \ \ CameraIntrinsic(200.0,\ 200.0,\ 320.0,\ 240.0),\ //\ fx,\ fy,\ cx,\ cy\ (cx/cy\ centered\ for\ 640x480)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ CameraDistortion(0.0,\ 0.0,\ 0.0,\ 0.0,\ 0.0),\ \ //\ start\ with\ zero\ distortion\ to\ be\ safe}
\DoxyCodeLine{\ \ \ \ \ \ \ \ Size(640,\ 480)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //\ image\ size}
\DoxyCodeLine{\ \ \ \ );}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ //\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}
\DoxyCodeLine{\ \ \ \ //\ 2.\ Create\ a\ MonoTracker\ for\ capturing\ frames}
\DoxyCodeLine{\ \ \ \ //\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}
\DoxyCodeLine{\ \ \ \ std::shared\_ptr<Tracker::MonoTracker>\ mt1\ =\ Tracker::MonoTracker::create(0,\ cm);}
\DoxyCodeLine{\ \ \ \ if\ (!mt1)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ std::cerr\ <<\ "{}[FATAL]\ Failed\ to\ create\ MonoTracker\(\backslash\)n"{};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ return\ 1;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ if\ (!mt1-\/>open())\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ std::cerr\ <<\ "{}[WARN]\ mt1-\/>open()\ returned\ false;\ camera\ may\ not\ be\ available\(\backslash\)n"{};}
\DoxyCodeLine{\ \ \ \ \}\ else\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ std::cout\ <<\ "{}[INFO]\ Camera\ opened\(\backslash\)n"{};}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ //\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}
\DoxyCodeLine{\ \ \ \ //\ 3.\ Initialize\ ORB/FeatureFinder\ (kept\ commented\ if\ not\ used)}
\DoxyCodeLine{\ \ \ \ //\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}
\DoxyCodeLine{\ \ \ \ std::shared\_ptr<OrbWrapper>\ orb\ =\ OrbWrapper::create(800,\ 1.2f,\ 4,\ 30,\ 0,\ 2,\ cv::ORB::HARRIS\_SCORE,\ 32,\ 30);\ }
\DoxyCodeLine{\ \ \ \ std::shared\_ptr<Feature::FeatureFinder>\ featureFinder\ =\ Feature::FeatureFinder::create(orb);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ std::vector<cv::DMatch>\ matches;}
\DoxyCodeLine{\ \ \ \ std::deque<Frame>\ frames;}
\DoxyCodeLine{\ \ \ \ Frame\ tempFrame,\ prevFrame;}
\DoxyCodeLine{\ \ \ \ Mat\ output;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ for\ (;;)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ //\ Read\ frame\ from\ camera}
\DoxyCodeLine{\ \ \ \ \ \ \ \ mt1-\/>read(tempFrame);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ //\ Guard:\ did\ we\ actually\ get\ pixels?}
\DoxyCodeLine{\ \ \ \ \ \ \ \ if\ (tempFrame.frame.empty())\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ std::cerr\ <<\ "{}[WARN]\ Empty\ frame\ grabbed.\ Skipping\ iteration.\(\backslash\)n"{};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ //\ small\ sleep\ to\ avoid\ a\ hot\ loop\ when\ camera\ fails}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ cv::waitKey(10);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ continue;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ //\ If\ the\ frame\ list\ isn't\ empty\ then\ get\ prev\ frame.}
\DoxyCodeLine{\ \ \ \ \ \ \ \ if\ (!frames.empty())\ prevFrame\ =\ frames.back();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ output\ =\ tempFrame.frame.clone();\ //\ clone\ to\ avoid\ aliasing\ issues}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ //\ Safety\ checks\ before\ any\ feature\ operations}
\DoxyCodeLine{\ \ \ \ \ \ \ \ if\ (featureFinder)\ featureFinder-\/>getKeypoints(tempFrame);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ if\ (!prevFrame.kp.empty()\ \&\&\ !tempFrame.kp.empty())\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ matches\ =\ featureFinder-\/>matchFramesLK(prevFrame,\ tempFrame);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ if\ (!matches.empty()\ \&\&\ !prevFrame.kp.empty())\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ featureFinder-\/>drawMatches(prevFrame,\ tempFrame,\ matches,\ output);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ //\ show\ only\ if\ not\ empty}
\DoxyCodeLine{\ \ \ \ \ \ \ \ if\ (!output.empty())\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ cv::imshow("{}Viewer"{},\ output);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ int\ k\ =\ cv::waitKey(1);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ if\ (k\ ==\ 27)\ break;\ //\ Esc\ to\ quit}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ //\ Only\ add\ frame\ if\ it\ has\ keypoints\ (or\ at\ least\ image\ data)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ if\ (!tempFrame.kp.empty())}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ frames.push\_back(tempFrame);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ else}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ ;\ //\ nothing}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ //\ If\ more\ than\ 45\ frames\ remove\ the\ first\ one}
\DoxyCodeLine{\ \ \ \ \ \ \ \ if\ (frames.size()\ >\ 45)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ frames.pop\_front();}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ return\ 0;}
\DoxyCodeLine{\}}

\end{DoxyCode}


See examples folder for more info 